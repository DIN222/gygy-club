<div id="block-gate" class="gy-block active">
    <div class="gate-content">
        <div class="gate-logo" id="m1-logo">GY-GY PRIVATE</div>
        
        <div class="door-wrapper" onclick="ModuleGate.open()">
            <img src="door_1.jpg" class="door-img" id="m1-img" 
                 onerror="this.src='https://via.placeholder.com/300x500/111/d4af37?text=DOOR'">
        </div>
        
        <div class="version-tag">BLOCK-01 v.4.1.2</div>
    </div>
</div>

<audio id="snd-door-open" preload="auto">
    <source src="door_open.mp3" type="audio/mpeg">
</audio>

<style>
    /* --- Styles for BLOCK-01 --- */
    #block-gate {
        position: fixed;
        inset: 0;
        background: #000;
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 1000;
    }
    #block-gate.active { display: flex; }

    .gate-logo {
        color: #d4af37;
        letter-spacing: 12px;
        margin-bottom: 40px;
        font-size: 18px;
        transition: 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        opacity: 0.7;
    }

    .door-wrapper {
        cursor: pointer;
        transition: 1.6s cubic-bezier(0.4, 0, 0.2, 1);
        will-change: transform, opacity;
    }

    .door-img {
        width: 70vw;
        max-width: 280px;
        border: 1px solid rgba(212, 175, 55, 0.2);
    }

    .state-opening .door-wrapper {
        transform: scale(9);
        opacity: 0;
    }
    .state-opening .gate-logo {
        opacity: 0;
        transform: translateY(-30px);
    }

    .version-tag {
        position: absolute;
        bottom: 20px;
        font-size: 9px;
        color: #333;
        letter-spacing: 2px;
    }
</style>

<script>
    /**
     * Logic for BLOCK-01
     */
    const ModuleGate = {
        locked: false,

        open() {
            if (this.locked) return;
            this.locked = true;

            const audio = document.getElementById('snd-door-open');
            audio.play().catch(e => console.log("Audio waiting for interaction"));

            document.getElementById('block-gate').classList.add('state-opening');

            setTimeout(() => {
                this.next();
            }, 1600);
        },

        next() {
            console.log("[BLOCK-01] Finished");
            // Placeholder for Core switch
            if (window.Core && Core.switch) {
                Core.switch('block-welcome');
            } else {
                console.warn("Core.switch not found. Waiting for BLOCK-02.");
            }
        }
    };
</script>
