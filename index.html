<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Digital Trace System</title>
    <style>
        /* Та самая эстетика черного фона */
        body {
            background-color: #000;
            color: #fff;
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        #app-container {
            text-align: center;
            border: 1px solid #333;
            padding: 40px;
            border-radius: 20px;
            background: #050505;
            box-shadow: 0 0 20px rgba(0,255,150,0.1);
        }

        .avatar-frame {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin-bottom: 20px;
            border: 2px dashed #00ff96; /* Место под Magic Key */
        }

        .btn-tg {
            background: #0088cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
    </style>
</head>
<body>

<div id="app-container">
    <div id="user-display">
        <div class="avatar-frame" id="avatar"></div>
        <h2 id="nickname">Идентификация...</h2>
        <p id="status">Поиск цифрового следа (Cookie)</p>
    </div>
    
    <button class="btn-tg" onclick="tgLogin()">Войти через Telegram</button>
</div>

<script>
    // Логика Cookie-recognition и ID
    function initUser() {
        let traceID = localStorage.getItem('digital_trace_id');
        
        if (!traceID) {
            // Первый вход: создаем ID и назначаем аватар
            traceID = 'id_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('digital_trace_id', traceID);
            assignNewUser();
        } else {
            // Возврат: восстанавливаем данные
            loadUser(traceID);
        }
    }

    function assignNewUser() {
        document.getElementById('nickname').innerText = "Новый Аватар";
        document.getElementById('status').innerText = "ID присвоен автоматически";
        document.getElementById('avatar').style.background = "linear-gradient(45deg, #00ff96, #0088cc)";
    }

    function loadUser(id) {
        document.getElementById('nickname').innerText = "Пользователь " + id.slice(-4);
        document.getElementById('status').innerText = "Доступ восстановлен по Cookie";
        document.getElementById('avatar').style.background = "linear-gradient(45deg, #ff0055, #ffcc00)";
    }

    function tgLogin() {
        console.log("Запрос к Telegram API для стабильного входа...");
        // Здесь будет интеграция с ботом
    }

    window.onload = initUser;
</script>
</body>
</html>
