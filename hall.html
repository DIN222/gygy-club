
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Club Hall v4.3.6 - Final Layout Fix</title>
    <style>
        :root {
            --holo-cyan: rgba(0, 247, 255, 0.7);
            --gold-glow: #ffd700;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden; background: #000;
            font-family: 'Segoe UI', sans-serif;
        }

        #hall-scene {
            position: relative;
            width: 100vw; height: 100vh;
            background: url('hall_bg.jpg') no-repeat center center;
            background-size: cover;
            display: flex; justify-content: center; align-items: center;
        }

        /* --- ГЛОБАЛЬНЫЙ ПЕРЕКЛЮЧАТЕЛЬ ЯЗЫКА (v4.3.6) --- */
        #global-ui {
            position: fixed;
            top: 25px; right: 25px;
            z-index: 1000;
            display: flex; gap: 8px;
        }

        .lang-btn {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--holo-cyan);
            color: var(--holo-cyan);
            padding: 6px 12px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: bold;
            transition: 0.3s;
        }

        .lang-btn.active { background: var(--holo-cyan); color: #000; box-shadow: 0 0 10px var(--holo-cyan); }

        /* --- ПРОЕКТОР v4.3.6 (ПРИНУДИТЕЛЬНОЕ ПОЗИЦИОНИРОВАНИЕ) --- */
        #projector-wall {
            position: fixed; /* Вырываем из потока */
            top: 15%; /* Устанавливаем очень высоко, чтобы точно уйти от арки */
            left: 0;
            width: 100%;
            text-align: center;
            pointer-events: none;
            z-index: 50;
        }

        #slogan-display {
            color: var(--gold-glow);
            font-size: 1.5rem; /* Чуть крупнее для читаемости */
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 12px;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 20px rgba(255, 215, 0, 1);
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }

        /* --- ГОЛОГРАММА v4.3.6 (ГОРИЗОНТАЛЬНАЯ: АВАТАР + QR) --- */
        #hologram-card {
            position: relative;
            width: 480px;
            padding: 30px;
            background: rgba(0, 20, 40, 0.4);
            border: 1px solid var(--holo-cyan);
            backdrop-filter: blur(25px);
            border-radius: 15px;
            box-shadow: 0 0 50px rgba(0, 247, 255, 0.4);
            color: #fff;
            animation: floating 6s ease-in-out infinite;
            z-index: 100;
            transition: transform 0.8s, opacity 0.8s;
        }

        @keyframes floating { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-25px); } }

        .card-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            gap: 30px;
        }

        .avatar-frame {
            width: 110px; height: 110px;
            border-radius: 50%; border: 2px solid var(--holo-cyan);
            background: #000; box-shadow: 0 0 20px var(--holo-cyan);
            overflow: hidden;
        }

        /* Magic Key QR Grid */
        .qr-grid {
            width: 110px; height: 110px;
            border: 1px solid var(--holo-cyan);
            display: grid; grid-template-columns: repeat(10, 1fr);
            background: rgba(0, 255, 255, 0.05);
        }
        .q-dot { background: var(--holo-cyan); opacity: 0; }
        .q-dot.on { opacity: 0.8; }

        #id-label {
            font-size: 1.8rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            border-top: 1px solid rgba(0, 255, 255, 0.3);
            padding-top: 15px;
            letter-spacing: 3px;
        }

        .confirm-btn {
            background: transparent; border: 1px solid var(--holo-cyan);
            color: var(--holo-cyan); padding: 12px 50px;
            cursor: pointer; text-transform: uppercase; font-weight: bold;
            margin-top: 15px; transition: 0.3s;
        }
        .confirm-btn:hover { background: var(--holo-cyan); color: #000; box-shadow: 0 0 20px var(--holo-cyan); }

        .hidden { opacity: 0; pointer-events: none; transform: scale(0.8) translateY(100px) !important; }
    </style>
</head>
<body>

<div id="global-ui">
    <button class="lang-btn" id="lang-RU" onclick="changeLang('RU')">RU</button>
    <button class="lang-btn" id="lang-EN" onclick="changeLang('EN')">EN</button>
</div>

<div id="hall-scene">
    <div id="projector-wall">
        <div id="slogan-display">...</div>
    </div>

    <div id="hologram-card">
        <div id="ui-title" style="font-size: 0.7rem; color: var(--holo-cyan); letter-spacing: 4px;">ACCESS CARD v4.3.6</div>
        
        <div class="card-content">
            <div class="avatar-frame">
                <img src="https://via.placeholder.com/110/001428/00f7ff?text=GUEST" style="width:100%">
            </div>
            <div class="qr-grid" id="qr-key"></div>
        </div>

        <div id="id-label">ID: 4.3.6-0000</div>
        <button class="confirm-btn" id="ui-btn" onclick="grantAccess()">Подтвердить</button>
    </div>
</div>

<script>
    const content = {
        'RU': { title: "КАРТА ДОСТУПА v4.3.6", btn: "ПОДТВЕРДИТЬ", slogans: ["СТАТУС. СТАБИЛЬНОСТЬ. СЕКРЕТНОСТЬ.", "ВАШ ЦИФРОВОЙ СЛЕД — КЛЮЧ"] },
        'EN': { title: "ACCESS CARD v4.3.6", btn: "CONFIRM STATUS", slogans: ["STATUS. STABILITY. SECRET.", "YOUR DIGITAL TRACE IS THE KEY"] }
    };

    let currentLang = localStorage.getItem('club_lang') || 'RU';
    let sloganPos = 0;

    function changeLang(l) {
        currentLang = l;
        localStorage.setItem('club_lang', l);
        applyLang();
    }

    function applyLang() {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(`lang-${currentLang}`).classList.add('active');

        document.getElementById('ui-title').innerText = content[currentLang].title;
        document.getElementById('ui-btn').innerText = content[currentLang].btn;
        document.getElementById('slogan-display').innerText = content[currentLang].slogans[sloganPos];
    }

    window.onload = () => {
        // Рендер QR Magic Key
        const qr = document.getElementById('qr-key');
        for(let i=0; i<100; i++) {
            const d = document.createElement('div');
            d.className = 'q-dot' + (Math.random() > 0.4 ? ' on' : '');
            qr.appendChild(d);
        }

        document.getElementById('id-label').innerText = `ID: 4.3.6-${Math.floor(1000+Math.random()*9000)}`;
        applyLang();

        // Цикл слоганов
        setInterval(() => {
            const txt = document.getElementById('slogan-display');
            txt.style.opacity = 0;
            setTimeout(() => {
                sloganPos = (sloganPos + 1) % content[currentLang].slogans.length;
                txt.innerText = content[currentLang].slogans[sloganPos];
                txt.style.opacity = 1;
            }, 800);
        }, 6000);
        document.getElementById('slogan-display').style.opacity = 1;
    };

    function grantAccess() {
        document.getElementById('hologram-card').classList.add('hidden');
        console.log("Access Granted. Logic version 4.3.6 stable.");
    }
</script>
</body>
</html>

