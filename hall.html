
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Club Hall v4.3.2 - Magic Key & QR Integration</title>
    <style>
        :root {
            --holo-cyan: rgba(0, 247, 255, 0.6);
            --gold-glow: #ffd700;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden; background: #000;
            font-family: 'Segoe UI', sans-serif;
        }

        #hall-scene {
            position: relative;
            width: 100vw; height: 100vh;
            background: url('hall_bg.jpg') no-repeat center center;
            background-size: cover;
            display: flex; justify-content: center; align-items: center;
        }

        /* --- ПРОЕКТОР v4.3.2 (Строго на стене) --- */
        #projector-wall {
            position: absolute;
            top: 46%; left: 50%;
            transform: translateX(-50%);
            width: 500px; text-align: center;
            pointer-events: none;
            z-index: 2;
        }

        #slogan-display {
            color: var(--gold-glow);
            font-size: 1.1rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 5px;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
            opacity: 0;
            transition: opacity 1.2s ease-in-out;
        }

        /* --- ГОЛОГРАММА v4.3.2 (ID + Avatar + QR) --- */
        #hologram-card {
            position: relative;
            width: 320px;
            padding: 25px;
            background: rgba(0, 20, 40, 0.25);
            border: 1px solid var(--holo-cyan);
            backdrop-filter: blur(12px);
            border-radius: 15px;
            box-shadow: 0 0 35px var(--holo-cyan);
            text-align: center;
            color: #fff;
            animation: floating 5s ease-in-out infinite;
            z-index: 10;
            transition: 0.7s ease-in-out;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        #guest-avatar {
            width: 100px; height: 100px;
            border-radius: 50%; border: 2px solid var(--holo-cyan);
            margin: 0 auto 10px; background: #050505;
            box-shadow: 0 0 15px var(--holo-cyan);
        }

        #guest-id-display {
            font-size: 1.4rem; font-weight: bold;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            text-shadow: 0 0 5px #fff;
        }

        /* ЗОНА QR-КОДА (Magic Key) */
        .qr-container {
            width: 85px; height: 85px;
            margin: 15px auto;
            border: 1px solid var(--holo-cyan);
            padding: 5px;
            background: rgba(0, 247, 255, 0.05);
            position: relative;
        }

        .qr-pixel-mockup {
            width: 100%; height: 100%;
            background-image: 
                radial-gradient(var(--holo-cyan) 1px, transparent 1px);
            background-size: 4px 4px;
            opacity: 0.7;
        }

        .confirm-btn {
            background: transparent; border: 1px solid var(--holo-cyan);
            color: var(--holo-cyan); padding: 10px 25px;
            cursor: pointer; text-transform: uppercase; font-weight: bold;
            margin-top: 10px; letter-spacing: 1px;
        }

        .confirm-btn:hover { background: var(--holo-cyan); color: #000; }

        /* Вход в БАР */
        #bar-entrance {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -10%);
            width: 160px; height: 260px;
            cursor: pointer; z-index: 5;
        }

        .card-hidden { opacity: 0; pointer-events: none; transform: scale(0.7) translateY(50px) !important; }
    </style>
</head>
<body>

<div id="hall-scene">
    <div id="projector-wall">
        <div id="slogan-display">STATUS. STABILITY. SECRET.</div>
    </div>

    <div id="hologram-card">
        <div style="font-size: 0.7rem; color: var(--holo-cyan); letter-spacing: 2px;">MEMBER CARD v4.3.2</div>
        <img src="https://via.placeholder.com/100/001428/00f7ff?text=USER" id="guest-avatar" alt="Avatar">
        <div id="guest-id-display">ID: 4.3.2-0000</div>
        
        <div class="qr-container">
            <div class="qr-pixel-mockup"></div>
            <div style="position:absolute; top:35%; left:0; width:100%; font-size:8px; color:var(--holo-cyan); font-family:monospace;">MAGIC KEY</div>
        </div>
        
        <button class="confirm-btn" onclick="activateAccess()">Подтвердить статус</button>
    </div>

    <div id="bar-entrance" onclick="tryEnterBar()"></div>
</div>

<script>
    const session = { 
        version: "4.3.2", 
        pin: Math.floor(1000 + Math.random() * 9000), 
        ok: false 
    };

    const clubSlogans = [
        "STATUS. STABILITY. SECRET.",
        "TIME IS THE ONLY CURRENCY",
        "WELCOME TO THE CIRCLE v4.3.2",
        "STABILITY OVER CHAOS"
    ];

    window.onload = () => {
        document.getElementById('guest-id-display').innerText = `ID: ${session.version}-${session.pin}`;
        initProjector();
        console.log(`[System]: Hall v${session.version} Active. QR Magic Key ready.`);
    };

    function initProjector() {
        const d = document.getElementById('slogan-display');
        let c = 0;
        d.style.opacity = 1;
        setInterval(() => {
            d.style.opacity = 0;
            setTimeout(() => { 
                c = (c + 1) % clubSlogans.length; 
                d.innerText = clubSlogans[c]; 
                d.style.opacity = 1; 
            }, 1200);
        }, 7000);
    }

    function activateAccess() {
        document.getElementById('hologram-card').classList.add('card-hidden');
        session.ok = true;
        console.log("[Access]: Confirmed 4.3.2. Entry to Bar unlocked.");
    }

    function tryEnterBar() {
        if (!session.ok) return alert("Подтвердите ID для входа.");
        alert(`ВХОД В БАР (v4.4 Stub)\n------------------\nВерсия системы: ${session.version}\nЗвук: Уровень 3`);
    }
</script>
</body>
</html>
